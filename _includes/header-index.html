<span id='dynamictocnative'></span>

<script>
  var contentsTitle = "Table of Contents";
	var ToC = '<h2>'+contentsTitle+'</h2>';
    ToC += '<nav role="navigation:" class="table-of-contents"><ul>';
    var first = false;

    document.querySelectorAll('h2').forEach(function(el,index) {
        if (first === false) {
        	first = true;
            var newSpan = document.createElement('SPAN');
            newSpan.id='dynamictocnative';
            el.parentNode.insertBefore(newSpan, el);
        }
		var title = el.textContent;
		var link = "#" + el.id;
        ToC += '<li><a href="' + link + '">' + title + '</a></li>';
    });

	ToC += '</ul></nav>';
    var tocDiv = document.getElementById('dynamictocnative');
    tocDiv.innerHTML = ToC;
</script>
