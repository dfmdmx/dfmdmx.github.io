{% if site.data.callback.url %}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script>
function remoteCall(method,args){
	return $.get("{{site.data.callback.url}}"+method,args).then(function(data){
		if(data.success){
			return $.Deferred().resolve(JSON.parse(data.response)).promise();
		}else{
			return $.Deferred().reject(data.error).promise();
		}
	},function(code,status){
		return $.Deferred().reject(status).promise();
	})
}
$(document).ready(function() {
  var method = 'handshake'
  remoteCall('handshake',{'name':'Jekyll'}).done(function(response){
  		console.log(response.hello);
    }).fail(function(){
      console.log('error');
    }).always(function(){
    });
})
</script>

{% endif %}
