<style>
.custom-restricted-width {
    /* To limit the menu width to the content of the menu: */
    display: inline-block;
    /* Or set the width explicitly: */
    /* width: 10em; */
}
</style>
<div class="pure-menu custom-restricted-width" id="index-headers"></div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script>
function create_index() {
	var ToC = '<ul class="pure-menu-list">';
    var first = false;
    document.querySelectorAll('h2').forEach(function(el,index) {
  		var title = el.textContent;
  		var link = "#" + el.id;
      if (['dfmdmx', 'About', 'Table of contents'].indexOf(title) == -1)  {
          ToC += '<li class="pure-menu-item"><a class="pure-menu-link" href="' + link + '">' + title + '</a></li>';
        };
    });
		ToC += '</ul>'
    var tocDiv = document.getElementById('index-headers');
    tocDiv.innerHTML = ToC;
  }
$(document).ready(function(){
  create_index();
});
</script>
